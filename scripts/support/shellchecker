#!/usr/bin/env bash
. ./scripts/support/assert-in-container "$0" "$@"

set -euo pipefail

echo "check bash files ..."
# In the scripts/ directory,
# everything with a shebang containing sh (bash, sh)
#
# SC2044: https://github.com/koalaman/shellcheck/wiki/SC2044
# SC2086: https://github.com/koalaman/shellcheck/wiki/SC2086
# shellcheck disable=SC2038
find ./* \
  -type f \
  -exec awk 'FNR == 1 && /^#!.*sh/{print FILENAME}' {} + \
  | grep -v node_modules \
  | xargs shellcheck -e SC2044 -e SC2086
