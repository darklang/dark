# Create a dark account for yourself

Accounts are currently created / managed in [./backend/libbackend/account.ml](./backend/libbackend/account.ml). This seed file provides an account for you in development as well as in production.

## Adding a new user.

Account data can be generated by running:
```
scripts/run-in-docker backend/_build/default/bin/add_user.exe
```

You will be prompted for username, email, name. This will print out something like this:

```
  (* This user's password is as follows: asdfghjklzxcvbnm
     Insert everything after this into backend/libbackend/account.ml *)

  upsert_account
    { username = "YOURNAME"
    ; password = "qwertyuiopasdfghjklzxcvbnmqwertyuioiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="
    ; email = "developer@example.com"
    ; name = "Ada Lovelace"};

```

Take a note of the user password, and send it to the user. __It will not be available again.__

backend/libbackend/account.ml
Open a PR adding this account data to `account.ml` in the `init` function. It will look something like:
```
upsert_account
    { username = "YOURNAME"
    ; password = "..."
    ; email = "developer@example.com"
    ; name = "Ada Lovelace"};
```
t st

Make a PR, then merge it. As soon as it goes live, the password will work.

## Adding yourself as an admin

Account data can be generated by running:
```
scripts/run-in-docker backend/_build/default/bin/add_user.exe --prompt-for-password
```

You will be prompted for username, password, email, name. This will print out something like this:

```
  (* This user's password is as follows: asdfghjklzxcvbnm
     Insert everything after this into backend/libbackend/account.ml *)

  upsert_account
    { username = "YOURNAME"
    ; password = "qwertyuiopasdfghjklzxcvbnmqwertyuioiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcvbnmqwertyuiopasdfghjklzxcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="
    ; email = "developer@example.com"
    ; name = "Ada Lovelace"};

```

Open a PR adding this account data to `account.ml` in the `init` function. It will look something like:

```
upsert_admin
    { username = "YOURNAME"
    ; password = "..."
    ; email = "developer@example.com"
    ; name = "Ada Lovelace"};
```

Make a PR, then merge it. As soon as it goes live, the password will work.
