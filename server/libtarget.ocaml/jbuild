(library
  (
    (name libtarget_ocaml)
    (modes (native))
    (wrapped false)
    (flags (-warn-error (+A) :standard -no-keep-locs))
    (preprocess (pps (ppx_bin_prot
                      ppx_compare
                      ppx_deriving.std
                      ppx_deriving_yojson
                      ppx_fields_conv
                      ppx_sexp_conv
                      ppx_pipebang
                      )))

    (libraries (nocrypto
                cstruct
                base64
                re2
                str
                core))))

(rule (copy# ${lib:libtarget:libtarget.mli} libtarget.mli))
