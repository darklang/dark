(jbuild_version 1)

(library
 ((name libtarget_js)
  (wrapped false)
  (libraries (core_kernel))
  (flags (-warn-error (+A) :standard -no-keep-locs -opaque))
  (modules_without_implementation (targetjs))
  (js_of_ocaml
    ((flags (+weak.js
             +dynlink.js
             +nat.js
             +base/runtime.js
             +core_kernel/runtime.js
             +bin_prot/runtime.js
             --runtime-only))
    (javascript_files (libtarget.js))))))


(rule (copy# ${lib:libtarget:libtarget.mli} libtarget.mli))
